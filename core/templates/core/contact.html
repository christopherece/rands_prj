{% extends 'base.html' %}

{% block title %}Contact Us - D&S Karans Ltd{% endblock %}

{% block extra_css %}
<style>
    /* Form input styling */
    .contact-form input[type="text"],
    .contact-form input[type="email"],
    .contact-form textarea {
        color: #ffffff !important;
    }
    
    .contact-form input[type="text"]:focus + label,
    .contact-form input[type="email"]:focus + label,
    .contact-form textarea:focus + label {
        color: #ffd700 !important;
    }
    
    .contact-form .prefix {
        color: #ffd700;
    }
    
    .contact-info {
        margin-top: 2rem;
    }
    .contact-info i {
        font-size: 3rem;
        margin-bottom: 1.5rem;
        display: block;
        color: #ffd700;
    }
    .contact-method {
        padding: 2.5rem 1.5rem;
        text-align: center;
        height: 100%;
        transition: all 0.3s ease;
        background-color: #1a1a1a;
        border-radius: 8px;
        border: 1px solid #333;
    }
    .contact-method h5 {
        color: #ffd700;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
    }
    .contact-method p {
        color: #fff;
        font-size: 1.1rem;
        line-height: 1.6;
    }
    .contact-method a {
        color: #fff;
        text-decoration: none;
        transition: color 0.3s ease;
    }
    .contact-method a:hover {
        color: #ffd700;
        text-decoration: underline;
    }
    .contact-method:hover {
        transform: translateY(-8px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        border-color: #ffd700;
    }
    .map-container {
        overflow: hidden;
        padding-bottom: 56.25%;
        position: relative;
        height: 0;
        margin: 2rem 0;
        border-radius: 4px;
        overflow: hidden;
    }
    .map-container iframe {
        left: 0;
        top: 0;
        height: 100%;
        width: 100%;
        position: absolute;
        border: 0;
    }
    .success-message {
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 4px;
        background-color: #e8f5e9;
        color: #2e7d32;
    }
</style>
{% endblock %}

{% block content %}
<!-- Page Title -->
<div class="section">
    <div class="container">
        <div class="row">
            <div class="col s12 center">
                <h1 class="gold-text">Contact Us</h1>
                <p class="flow-text">We'd love to hear from you. Get in touch with us!</p>
            </div>
        </div>
    </div>
</div>

<!-- Contact Methods -->
<div class="section grey darken-4">
    <div class="container">
        <div class="row">
            <div class="col s12 m4">
                <div class="card-panel contact-method">
                    <i class="material-icons gold-text">schedule</i>
                    <h5>Hours</h5>
                    <p>Always open</p>
                </div>
            </div>
            <div class="col s12 m4">
                <div class="card-panel contact-method">
                    <i class="material-icons gold-text">location_on</i>
                    <h5>Our Location</h5>
                    <p>25 Elevation Street, Flatbush<br>Manukau City, New Zealand, 2025</p>
                </div>
            </div>
            <div class="col s12 m4">
                <div class="card-panel contact-method">
                    <i class="material-icons gold-text">contact_phone</i>
                    <h5>Contact Info</h5>
                    <p>Phone: <a href="tel:+6421549470" class="gold-text">021 549 470</a><br>
                    Email: <a href="mailto:vikash_vinod@hotmail.com" class="gold-text">vikash_vinod@hotmail.com</a><br>
                    Messenger: D&S Karans Limited</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contact Form -->
<div class="section">
    <div class="container">
        <div class="row">
            <div class="col s12 m6">
                <h4 class="gold-text">Send Us a Message</h4>
                <p>Have questions about our products or services? Fill out the form below and we'll get back to you as soon as possible.</p>
                
                <form method="post" class="contact-form" action="{% url 'core:contact' %}">
                    {% csrf_token %}
                    
                    {% if messages %}
                        {% for message in messages %}
                            <div class="success-message">
                                <i class="material-icons left">check_circle</i>
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                    
                    <div class="row">
                        <div class="input-field col s12">
                            <i class="material-icons prefix">person</i>
                            <input id="name" name="name" type="text" class="validate" required>
                            <label for="name">Your Name *</label>
                        </div>
                        
                        <div class="input-field col s12">
                            <i class="material-icons prefix">email</i>
                            <input id="email" name="email" type="email" class="validate" required>
                            <label for="email">Email Address *</label>
                            <span class="helper-text" data-error="Please enter a valid email" data-success=""></span>
                        </div>
                        
                        <div class="input-field col s12">
                            <i class="material-icons prefix">subject</i>
                            <input id="subject" name="subject" type="text" class="validate" required value="{{ request.GET.subject|default:'' }}">
                            <label for="subject">Subject *</label>
                        </div>
                        
                        <div class="input-field col s12">
                            <i class="material-icons prefix">message</i>
                            <textarea id="message" name="message" class="materialize-textarea" required></textarea>
                            <label for="message">Your Message *</label>
                        </div>
                        
                        <div class="col s12">
                            <button type="submit" class="btn btn-gold waves-effect waves-light">
                                <i class="material-icons right">send</i> Send Message
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="col s12 m5 offset-m1">
                <h4 class="gold-text">Find Us</h4>
                <p>Our office is conveniently located in the heart of the city. Feel free to visit us during business hours.</p>
                
                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.332062083352!2d178.4419143152586!3d-18.14370178759443!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6e1bf2e5e5a5a5a5%3A0x1a3a3a3a3a3a3a3a!2sSuva%2C%20Fiji!5e0!3m2!1sen!2s!4v1620000000000!5m2!1sen!2s" 
                        allowfullscreen="" 
                        loading="lazy">
                    </iframe>
                </div>
                
                <div class="business-hours">
                    <h5 class="gold-text">Business Hours</h5>
                    <table class="striped">
                        <tbody>
                            <tr>
                                <td>Monday - Friday</td>
                                <td>9:00 AM - 5:00 PM</td>
                            </tr>
                            <tr>
                                <td>Saturday</td>
                                <td>10:00 AM - 2:00 PM</td>
                            </tr>
                            <tr>
                                <td>Sunday</td>
                                <td>Closed</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FAQ Section -->
<div class="section grey darken-4" style="padding: 4rem 0;">
    <div class="container">
        <div class="row">
            <div class="col s12 center">
                <h2 class="gold-text" style="font-size: 2.5rem; margin-bottom: 1rem; font-weight: 600;">Frequently Asked Questions</h2>
                <p class="flow-text white-text" style="font-size: 1.3rem; margin-bottom: 3rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                    Find answers to common questions about our products and services. Can't find what you're looking for? 
                    <a href="#contact" class="gold-text" style="text-decoration: underline;">Contact us</a> directly.
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col s12 m10 offset-m1">
                <ul class="collapsible faq-accordion">
                    <li class="active">
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">help_outline</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">What products do you import and distribute?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body" style="display: block;">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                We specialize in importing and distributing premium Kava from Fiji, high-quality Kava Filters, 
                                and Vermicelli from China. Our products are carefully selected to ensure the highest quality 
                                and authenticity for our customers.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">local_shipping</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">Do you offer international shipping?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                Yes, we offer reliable international shipping to most countries. Shipping costs and delivery times 
                                vary depending on your location. For specific shipping information to your country, please 
                                <a href="#contact" class="gold-text" style="text-decoration: underline;">contact us</a> with your address details.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">payment</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">What payment methods do you accept?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                We offer multiple secure payment options for your convenience, including:
                                <ul class="browser-default white-text" style="padding-left: 1.5rem; margin-top: 0.5rem;">
                                    <li>Bank Transfers</li>
                                    <li>Credit/Debit Cards (Visa, Mastercard, American Express)</li>
                                    <li>Secure Online Payment Gateways</li>
                                </ul>
                                For specific payment terms or bulk order inquiries, please contact our sales team.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">store</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">Can I visit your showroom?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                Absolutely! We welcome visitors to our showroom during business hours. To ensure we can provide 
                                you with the best possible service and attention, we recommend scheduling an appointment in advance. 
                                This way, we can prepare for your visit and have the right team members available to assist you.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">business</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">Are you looking for distributors?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                We're continuously looking to expand our distribution network with partners who share our commitment 
                                to quality and customer satisfaction. If you're interested in becoming an authorized distributor 
                                of our products, we'd love to hear from you. Please send us your business details, including your 
                                company profile and distribution territory, and our team will get back to you to discuss potential 
                                partnership opportunities.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="collapsible-header" tabindex="0">
                            <div class="faq-icon">
                                <i class="material-icons gold-text">contact_support</i>
                            </div>
                            <div class="faq-question">
                                <h5 class="white-text" style="margin: 0; font-weight: 500; font-size: 1.2rem;">How can I track my order?</h5>
                            </div>
                            <i class="material-icons right gold-text">expand_more</i>
                        </div>
                        <div class="collapsible-body">
                            <p class="white-text" style="font-size: 1.05rem; line-height: 1.7; margin: 0; padding: 0 1rem 1rem 0;">
                                Once your order has been processed and shipped, you will receive a confirmation email containing 
                                your tracking number and a direct link to track your package. You can use this information to 
                                monitor your shipment's progress through our shipping partner's website. If you have any 
                                questions about your order status, our customer support team is here to help.
                            </p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    .faq-accordion {
        border: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        border-radius: 8px;
        overflow: hidden;
    }
    
    .faq-accordion .collapsible-header {
        background-color: #1a1a1a;
        border-bottom: 1px solid #333;
        padding: 1.2rem 1.5rem;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
    }
    
    .faq-accordion .collapsible-header:hover {
        background-color: #222;
    }
    
    .faq-accordion .collapsible-body {
        background-color: #1a1a1a;
        border-bottom: 1px solid #333;
        padding: 0 2rem 1.5rem 4.5rem;
    }
    
    .faq-accordion .collapsible-body p {
        margin: 0.5rem 0 0;
    }
    
    .faq-accordion .collapsible-header i.right {
        margin-left: auto;
        transition: transform 0.3s ease;
    }
    
    .faq-accordion .collapsible-header.active i.right {
        transform: rotate(180deg);
    }
    
    .faq-icon {
        margin-right: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        background-color: rgba(255, 215, 0, 0.1);
        border-radius: 50%;
    }
    
    .faq-question {
        flex: 1;
    }
    
    @media (max-width: 600px) {
        .faq-accordion .collapsible-header {
            padding: 1rem;
        }
        
        .faq-accordion .collapsible-body {
            padding: 0 1rem 1rem 3.5rem;
        }
        
        .faq-icon {
            width: 32px;
            height: 32px;
            margin-right: 0.75rem;
        }
        
        .faq-accordion .collapsible-header h5 {
            font-size: 1.1rem !important;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize collapsible for FAQ
        var collapsible = document.querySelectorAll('.collapsible');
        M.Collapsible.init(collapsible);
        
        // Initialize form validation
        var form = document.querySelector('.contact-form');
        if (form) {
            form.addEventListener('submit', function(e) {
                var valid = true;
                var requiredFields = form.querySelectorAll('[required]');
                
                requiredFields.forEach(function(field) {
                    if (!field.value.trim()) {
                        valid = false;
                        field.classList.add('invalid');
                    } else {
                        field.classList.remove('invalid');
                    }
                });
                
                // Email validation
                var emailField = form.querySelector('[type="email"]');
                if (emailField && !isValidEmail(emailField.value)) {
                    valid = false;
                    emailField.classList.add('invalid');
                }
                
                if (!valid) {
                    e.preventDefault();
                    M.toast({html: 'Please fill in all required fields correctly.', classes: 'red'});
                }
            });
        }
        
        // Helper function to validate email
        function isValidEmail(email) {
            var re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
    });
</script>
{% endblock %}
